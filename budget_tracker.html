<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Budget Tracker Pro - Gestion Budg√©taire Intelligente</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            backdrop-filter: blur(20px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .main-dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
            min-height: 600px;
        }

        .budget-setup {
            background: #f8f9fa;
            padding: 40px;
        }

        .budget-overview {
            background: white;
            padding: 40px;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 30px;
            text-align: center;
        }

        .income-section {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }

        .income-input {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            align-items: center;
        }

        .income-input input {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
        }

        .income-input button {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid white;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .income-input button:hover {
            background: white;
            color: #00b894;
        }

        .income-amount {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .categories-section {
            margin-top: 20px;
        }

        .category-item {
            display: flex;
            align-items: center;
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .category-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .category-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            margin-right: 15px;
        }

        .category-info {
            flex: 1;
        }

        .category-name {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 3px;
        }

        .category-budget {
            font-size: 0.9rem;
            color: #666;
        }

        .category-input {
            width: 100px;
            padding: 8px;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            text-align: center;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .category-input:focus {
            border-color: #667eea;
            outline: none;
        }

        .overview-cards {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .overview-card {
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            color: white;
        }

        .budget-remaining {
            background: linear-gradient(135deg, #00b894, #00a085);
        }

        .budget-spent {
            background: linear-gradient(135deg, #a29bfe, #6c5ce7);
        }

        .card-amount {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .card-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .progress-section {
            margin-bottom: 30px;
        }

        .overall-progress {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .progress-title {
            font-weight: 600;
            color: #2c3e50;
        }

        .progress-percentage {
            font-weight: 700;
            color: #667eea;
        }

        .progress-bar {
            height: 12px;
            background: #e9ecef;
            border-radius: 6px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            border-radius: 6px;
            transition: width 0.8s ease-out;
            position: relative;
        }

        .progress-safe {
            background: linear-gradient(90deg, #00b894, #00cec9);
        }

        .progress-warning {
            background: linear-gradient(90deg, #fdcb6e, #e17055);
        }

        .progress-danger {
            background: linear-gradient(90deg, #ff7675, #d63031);
        }

        .category-progress {
            margin-bottom: 15px;
        }

        .category-progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .category-progress-name {
            font-weight: 500;
            color: #2c3e50;
            font-size: 0.9rem;
        }

        .category-progress-amount {
            font-size: 0.9rem;
            color: #666;
        }

        .category-progress-bar {
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
        }

        .expense-tracker {
            background: #f1f3f4;
            padding: 30px;
            margin-top: 30px;
            border-radius: 15px;
        }

        .add-expense {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .expense-form {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr auto;
            gap: 15px;
            align-items: end;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .form-group input, .form-group select {
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus {
            border-color: #667eea;
            outline: none;
        }

        .add-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .add-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .expenses-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .expense-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
        }

        .expense-details {
            flex: 1;
        }

        .expense-name {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 3px;
        }

        .expense-category {
            font-size: 0.8rem;
            color: #666;
        }

        .expense-amount {
            font-weight: 700;
            color: #d63031;
            font-size: 1.1rem;
        }

        .tips-section {
            background: #e8f4fd;
            padding: 25px;
            border-radius: 15px;
            margin-top: 30px;
        }

        .tips-section h4 {
            color: #0984e3;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .tip-item {
            background: white;
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 8px;
            font-size: 0.9rem;
            border-left: 3px solid #0984e3;
        }

        @media (max-width: 768px) {
            .main-dashboard {
                grid-template-columns: 1fr;
            }

            .overview-cards {
                grid-template-columns: 1fr;
            }

            .expense-form {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üí∞ Budget Tracker Pro</h1>
            <p>Ma√Ætrise ton budget avec intelligence et simplicit√©</p>
        </div>

        <div class="main-dashboard">
            <div class="budget-setup">
                <h2 class="section-title">üìù Configuration Budget</h2>

                <div class="income-section">
                    <h3>Revenus Mensuels</h3>
                    <div class="income-amount" id="totalIncome">2,500‚Ç¨</div>
                    <div class="income-input">
                        <input type="number" id="incomeInput" placeholder="Montant en ‚Ç¨" value="2500">
                        <button onclick="updateIncome()">Mettre √† jour</button>
                    </div>
                </div>

                <div class="categories-section">
                    <h3 style="color: #2c3e50; margin-bottom: 20px;">Cat√©gories de D√©penses</h3>

                    <div class="category-item">
                        <div class="category-icon" style="background: #ff7675;">üè†</div>
                        <div class="category-info">
                            <div class="category-name">Logement</div>
                            <div class="category-budget">Loyer, charges, assurances</div>
                        </div>
                        <input type="number" class="category-input" data-category="logement" value="900" onchange="updateBudget()">
                    </div>

                    <div class="category-item">
                        <div class="category-icon" style="background: #74b9ff;">üçï</div>
                        <div class="category-info">
                            <div class="category-name">Alimentation</div>
                            <div class="category-budget">Courses, restaurants</div>
                        </div>
                        <input type="number" class="category-input" data-category="alimentation" value="400" onchange="updateBudget()">
                    </div>

                    <div class="category-item">
                        <div class="category-icon" style="background: #55a3ff;">üöó</div>
                        <div class="category-info">
                            <div class="category-name">Transport</div>
                            <div class="category-budget">Essence, transports en commun</div>
                        </div>
                        <input type="number" class="category-input" data-category="transport" value="200" onchange="updateBudget()">
                    </div>

                    <div class="category-item">
                        <div class="category-icon" style="background: #a29bfe;">üéÆ</div>
                        <div class="category-info">
                            <div class="category-name">Loisirs</div>
                            <div class="category-budget">Sorties, hobbies, sport</div>
                        </div>
                        <input type="number" class="category-input" data-category="loisirs" value="300" onchange="updateBudget()">
                    </div>

                    <div class="category-item">
                        <div class="category-icon" style="background: #00b894;">üí∞</div>
                        <div class="category-info">
                            <div class="category-name">√âpargne</div>
                            <div class="category-budget">Investissements, livret A</div>
                        </div>
                        <input type="number" class="category-input" data-category="epargne" value="500" onchange="updateBudget()">
                    </div>

                    <div class="category-item">
                        <div class="category-icon" style="background: #fdcb6e;">üõçÔ∏è</div>
                        <div class="category-info">
                            <div class="category-name">Divers</div>
                            <div class="category-budget">V√™tements, sant√©, impr√©vus</div>
                        </div>
                        <input type="number" class="category-input" data-category="divers" value="200" onchange="updateBudget()">
                    </div>
                </div>
            </div>

            <div class="budget-overview">
                <h2 class="section-title">üìä Vue d'Ensemble</h2>

                <div class="overview-cards">
                    <div class="overview-card budget-remaining">
                        <div class="card-amount" id="remainingAmount">1,200‚Ç¨</div>
                        <div class="card-label">Budget Restant</div>
                    </div>
                    <div class="overview-card budget-spent">
                        <div class="card-amount" id="spentAmount">1,300‚Ç¨</div>
                        <div class="card-label">D√©j√† D√©pens√©</div>
                    </div>
                </div>

                <div class="progress-section">
                    <div class="overall-progress">
                        <div class="progress-header">
                            <span class="progress-title">Progression Globale</span>
                            <span class="progress-percentage" id="overallPercentage">52%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill progress-safe" id="overallProgress" style="width: 52%"></div>
                        </div>
                    </div>

                    <div id="categoryProgresses">
                        <!-- Les barres de progression seront g√©n√©r√©es par JavaScript -->
                    </div>
                </div>

                <div class="tips-section">
                    <h4>üí° Conseils Budget Intelligent</h4>
                    <div class="tip-item" id="budgetTip">
                        <strong>R√®gle 50/30/20 :</strong> 50% besoins essentiels, 30% envies, 20% √©pargne
                    </div>
                    <div class="tip-item">
                        <strong>Automatise ton √©pargne :</strong> Virement automatique d√®s le d√©but du mois
                    </div>
                    <div class="tip-item">
                        <strong>R√©vise mensuellement :</strong> Ajuste tes budgets selon tes habitudes r√©elles
                    </div>
                </div>
            </div>
        </div>

        <div class="expense-tracker">
            <h3 style="color: #2c3e50; margin-bottom: 25px;">üìù Suivi des D√©penses</h3>

            <div class="add-expense">
                <div class="expense-form">
                    <div class="form-group">
                        <label>Description</label>
                        <input type="text" id="expenseDescription" placeholder="Ex: Courses Monoprix">
                    </div>
                    <div class="form-group">
                        <label>Montant (‚Ç¨)</label>
                        <input type="number" id="expenseAmount" placeholder="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label>Cat√©gorie</label>
                        <select id="expenseCategory">
                            <option value="logement">üè† Logement</option>
                            <option value="alimentation">üçï Alimentation</option>
                            <option value="transport">üöó Transport</option>
                            <option value="loisirs">üéÆ Loisirs</option>
                            <option value="divers">üõçÔ∏è Divers</option>
                        </select>
                    </div>
                    <button class="add-btn" onclick="addExpense()">Ajouter</button>
                </div>
            </div>

            <div class="expenses-list" id="expensesList">
                <!-- Les d√©penses seront ajout√©es ici -->
            </div>
        </div>
    </div>

    <script>
        let budget = {
            income: 2500,
            categories: {
                logement: { budget: 900, spent: 850 },
                alimentation: { budget: 400, spent: 380 },
                transport: { budget: 200, spent: 150 },
                loisirs: { budget: 300, spent: 280 },
                epargne: { budget: 500, spent: 500 },
                divers: { budget: 200, spent: 120 }
            }
        };

        let expenses = [
            { description: "Loyer Octobre", amount: 850, category: "logement", date: new Date() },
            { description: "Courses Carrefour", amount: 85, category: "alimentation", date: new Date() },
            { description: "Essence", amount: 60, category: "transport", date: new Date() },
            { description: "Cin√©ma", amount: 24, category: "loisirs", date: new Date() }
        ];

        function formatCurrency(amount) {
            return new Intl.NumberFormat('fr-FR', {
                style: 'currency',
                currency: 'EUR',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(amount);
        }

        function updateIncome() {
            const newIncome = parseFloat(document.getElementById('incomeInput').value) || 0;
            budget.income = newIncome;
            document.getElementById('totalIncome').textContent = formatCurrency(newIncome);
            updateOverview();
        }

        function updateBudget() {
            const inputs = document.querySelectorAll('.category-input');
            inputs.forEach(input => {
                const category = input.dataset.category;
                const amount = parseFloat(input.value) || 0;
                budget.categories[category].budget = amount;
            });
            updateOverview();
        }

        function addExpense() {
            const description = document.getElementById('expenseDescription').value;
            const amount = parseFloat(document.getElementById('expenseAmount').value);
            const category = document.getElementById('expenseCategory').value;

            if (!description || !amount || amount <= 0) {
                alert('Veuillez remplir tous les champs correctement');
                return;
            }

            const expense = {
                description,
                amount,
                category,
                date: new Date()
            };

            expenses.push(expense);
            budget.categories[category].spent += amount;

            // Reset form
            document.getElementById('expenseDescription').value = '';
            document.getElementById('expenseAmount').value = '';

            updateExpensesList();
            updateOverview();
        }

        function updateExpensesList() {
            const list = document.getElementById('expensesList');
            list.innerHTML = expenses.slice(-10).reverse().map(expense => `
                <div class="expense-item">
                    <div class="expense-details">
                        <div class="expense-name">${expense.description}</div>
                        <div class="expense-category">${getCategoryIcon(expense.category)} ${getCategoryName(expense.category)}</div>
                    </div>
                    <div class="expense-amount">-${formatCurrency(expense.amount)}</div>
                </div>
            `).join('');
        }

        function getCategoryIcon(category) {
            const icons = {
                logement: 'üè†',
                alimentation: 'üçï',
                transport: 'üöó',
                loisirs: 'üéÆ',
                epargne: 'üí∞',
                divers: 'üõçÔ∏è'
            };
            return icons[category] || 'üì¶';
        }

        function getCategoryName(category) {
            const names = {
                logement: 'Logement',
                alimentation: 'Alimentation',
                transport: 'Transport',
                loisirs: 'Loisirs',
                epargne: '√âpargne',
                divers: 'Divers'
            };
            return names[category] || 'Divers';
        }

        function updateOverview() {
            let totalBudget = 0;
            let totalSpent = 0;

            Object.values(budget.categories).forEach(cat => {
                totalBudget += cat.budget;
                totalSpent += cat.spent;
            });

            const remaining = budget.income - totalSpent;
            const percentage = (totalSpent / budget.income) * 100;

            document.getElementById('remainingAmount').textContent = formatCurrency(remaining);
            document.getElementById('spentAmount').textContent = formatCurrency(totalSpent);
            document.getElementById('overallPercentage').textContent = Math.round(percentage) + '%';

            const progressBar = document.getElementById('overallProgress');
            progressBar.style.width = Math.min(percentage, 100) + '%';

            // Changer la couleur selon le pourcentage
            progressBar.className = 'progress-fill ' + 
                (percentage <= 70 ? 'progress-safe' : 
                 percentage <= 90 ? 'progress-warning' : 'progress-danger');

            updateCategoryProgresses();
            updateBudgetTip(percentage);
        }

        function updateCategoryProgresses() {
            const container = document.getElementById('categoryProgresses');
            const categories = Object.entries(budget.categories);

            container.innerHTML = categories.map(([key, cat]) => {
                const percentage = (cat.spent / cat.budget) * 100;
                const progressClass = percentage <= 70 ? 'progress-safe' : 
                                    percentage <= 90 ? 'progress-warning' : 'progress-danger';

                return `
                    <div class="category-progress">
                        <div class="category-progress-header">
                            <span class="category-progress-name">${getCategoryIcon(key)} ${getCategoryName(key)}</span>
                            <span class="category-progress-amount">${formatCurrency(cat.spent)} / ${formatCurrency(cat.budget)}</span>
                        </div>
                        <div class="category-progress-bar">
                            <div class="progress-fill ${progressClass}" style="width: ${Math.min(percentage, 100)}%"></div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function updateBudgetTip(percentage) {
            const tipElement = document.getElementById('budgetTip');
            let tip = '';

            if (percentage < 50) {
                tip = '<strong>Excellent !</strong> Tu es tr√®s en dessous de ton budget. Pense √† augmenter ton √©pargne.';
            } else if (percentage < 70) {
                tip = '<strong>Bien jou√© !</strong> Tu ma√Ætrises ton budget. Continue comme √ßa !';
            } else if (percentage < 90) {
                tip = '<strong>Attention !</strong> Tu approches de ton budget limite. Surveille tes d√©penses.';
            } else {
                tip = '<strong>Alert budget !</strong> Tu d√©passes ton budget. Il est temps de r√©duire certaines d√©penses.';
            }

            tipElement.innerHTML = tip;
        }

        // Initialisation
        updateExpensesList();
        updateOverview();
    </script>
</body>
</html>